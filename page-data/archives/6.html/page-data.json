{"componentChunkName":"component---src-templates-post-tsx","path":"/archives/6.html","result":{"data":{"markdownRemark":{"id":"964373ad-0ab2-5bfc-8247-b0087dbf2f12","fields":{"createdAt":1587735518000,"updatedAt":1601243735000,"sourceFileUrl":"https://github.com/ufec/ufec-blog-source/blob/master/content/archives/Fiddler之网易云音乐加密参数-6.md","slug":"archives/6.html","next":{"id":"acd189f3-d885-5ec0-81c2-a96a2875f3c7","slug":"archives/7.html","thumbnail":"","title":"金山云文档批量下载"},"prev":{"id":"50c1373b-ca8d-5dcf-bafd-e38b712232ec","slug":"archives/5.html","thumbnail":"","title":"安装WSL(Windows Linux)"}},"frontmatter":{"title":"Fiddler之网易云音乐加密参数","author":null,"date":"2020-04-24","updated":"2020-09-27","url":"https://www.ufec.cn/archives/6.html","categories":["代码","调试"],"tags":["Fiddler","JavaScript"],"thumbnail":null},"wordCount":{"words":100,"sentences":18,"paragraphs":18},"tableOfContents":"<ul>\n<li><a href=\"#fiddler-%E7%AE%80%E4%BB%8B\">Fiddler 简介</a></li>\n<li><a href=\"#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95\">实现方法</a></li>\n<li><a href=\"#%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B\">分析过程</a></li>\n<li><a href=\"#%E5%86%99%E5%9C%A8%E7%BB%93%E5%B0%BE\">写在结尾</a></li>\n</ul>","timeToRead":1,"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"fiddler-简介","style":"position:relative;"},"children":[{"type":"text","value":"Fiddler 简介"},{"type":"element","tagName":"a","properties":{"href":"#fiddler-%E7%AE%80%E4%BB%8B","ariaLabel":"fiddler 简介 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"a","properties":{"href":"https://www.telerik.com/fiddler"},"children":[{"type":"text","value":"Fiddler"}]},{"type":"text","value":"是一款 Web 调试代理工具，用于记录计算机和 Internet 之间的所有 HTTP（S）通信。检查流量，设置断点，并伪造请求/响应。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"实现方法","style":"position:relative;"},"children":[{"type":"text","value":"实现方法"},{"type":"element","tagName":"a","properties":{"href":"#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95","ariaLabel":"实现方法 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  利用 Fiddler 替换原网站 js，通过断点调试，找出关键参数，并提取全部加密方法，从而达到可以直接生成接口的加密参数，配合会员的 cookie，就可以获取会员才能看到的内容。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"分析过程","style":"position:relative;"},"children":[{"type":"text","value":"分析过程"},{"type":"element","tagName":"a","properties":{"href":"#%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B","ariaLabel":"分析过程 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"先找一首非会员试听歌曲，找到接口\n"},{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/find_one-b59bc5dbf1bc4035a85042358a608dd6.png","alt":"find_one.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"找到关键参数\n"},{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/find_two-052b21a982ea4f24b319fadb67044d54.png","alt":"find_two.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"分析页面 js，找到生成这两个参数的地方\n"},{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/get_one-9ddc88323e31456483b60a3b6eda86c0.png","alt":"get_one.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy 大法，准备伪造的副本\n"},{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/get_three-a80f7c6d519846c0a70f7f393b71fa95.png","alt":"get_three.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"上才艺\n"},{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/get_two-75b208da05644a17b2f87de11a11faa1.png","alt":"get_two.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"调试技巧之禁用缓存：找到 Network 选项卡，勾选 Disable cache 选项，当然你不勾也行，那你就得清空缓存，再刷新页面，勾选后启动 AutoResponder 直接刷新即可"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"看表演\n"},{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/res_one-3b4df0468c9c4fa094ae26a02cd50909.png","alt":"res_one.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/res_two-9c0b49a66a234d30906a66b26ce68372.png","alt":"res_two.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://www.ufec.cn/upload/2020/04/res_three-e923c495d75746a5914584053a360980.png","alt":"res_three.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"然后就是对着源码一顿 Copy，把主要的东西搞出来就行了，那些固定的直接写死，然后放在一个 js 文件里，就可以动态生成，虽然他这个参数可以直接 copy 一份，但那样显得来路不明，js 脚本是 2019 年 5 月 Copy 好的，那时候还不会用 js 的加密，用的 php 来加密的，现在看起来就很 low，我就不发了，如果实在不会，带上邮箱留言，但自己动手实现一遍会更有意思，"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["grvsc-container","solarized-light","grvsc-mm-tJZ19p","grvsc-ps-tJZ19p"],"dataLanguage":"javascript","dataIndex":"0"},"children":[{"type":"element","tagName":"code","properties":{"className":["grvsc-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-source"]},"children":[{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-7","grvsc-tJZ19p-3"]},"children":[{"type":"text","value":"brx9o"}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":"(["}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-11","grvsc-tJZ19p-6"]},"children":[{"type":"text","value":"\"流泪\""}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":", "}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-11","grvsc-tJZ19p-6"]},"children":[{"type":"text","value":"\"强\""}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":"]), "}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-7","grvsc-tJZ19p-3"]},"children":[{"type":"text","value":"brx9o"}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":"(["}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-11","grvsc-tJZ19p-6"]},"children":[{"type":"text","value":"\"爱心\""}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":", "}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-11","grvsc-tJZ19p-6"]},"children":[{"type":"text","value":"\"女孩\""}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":", "}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-11","grvsc-tJZ19p-6"]},"children":[{"type":"text","value":"\"惊恐\""}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":", "}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-11","grvsc-tJZ19p-6"]},"children":[{"type":"text","value":"\"大笑\""}]},{"type":"element","tagName":"span","properties":{"className":["grvsc-tiaGIi-1","grvsc-tJZ19p-1"]},"children":[{"type":"text","value":"])"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"不知道这加密参数是网易云音乐哪位程序员的故事，细思极恐！"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"写在结尾","style":"position:relative;"},"children":[{"type":"text","value":"写在结尾"},{"type":"element","tagName":"a","properties":{"href":"#%E5%86%99%E5%9C%A8%E7%BB%93%E5%B0%BE","ariaLabel":"写在结尾 permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  应该没啥要补充的了，想起来再改，本文仅供参考，接口勿用于商业！！！"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"style","properties":{"className":["grvsc-styles"]},"children":[{"type":"text","value":"\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .grvsc-tiaGIi-1 { color: #657B83; }\n  .solarized-light .grvsc-tiaGIi-7 { color: #268BD2; }\n  .solarized-light .grvsc-tiaGIi-11 { color: #2AA198; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  body.dark .grvsc-ps-tJZ19p {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  body.dark .grvsc-ps-tJZ19p .grvsc-tJZ19p-1 { color: #ABB2BF; }\n  body.dark .grvsc-ps-tJZ19p .grvsc-tJZ19p-3 { color: #61AFEF; }\n  body.dark .grvsc-ps-tJZ19p .grvsc-tJZ19p-6 { color: #98C379; }\n  body.dark .grvsc-ps-tJZ19p .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n  \n  /* One Dark Pro */\n  @media (prefers-color-scheme: dark) {\n    .grvsc-mm-tJZ19p {\n      background-color: #282c34;\n      color: #abb2bf;\n    }\n    .grvsc-mm-tJZ19p .grvsc-tJZ19p-1 { color: #ABB2BF; }\n    .grvsc-mm-tJZ19p .grvsc-tJZ19p-3 { color: #61AFEF; }\n    .grvsc-mm-tJZ19p .grvsc-tJZ19p-6 { color: #98C379; }\n    .grvsc-mm-tJZ19p .grvsc-line-highlighted::before {\n      background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n      box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n    }\n  }\n"}]}],"data":{"quirksMode":false}},"excerpt":"Fiddler 简介   Fiddler是一款 Web 调试代理工具，用于记录计算机和 Internet 之间的所有 HTTP（S）通信。检查流量，设置断点，并伪造请求/响应。 实现方法   利用 Fiddler 替换原网站 js…"}},"pageContext":{"id":"964373ad-0ab2-5bfc-8247-b0087dbf2f12","slug":"archives/6.html","next":{"id":"50c1373b-ca8d-5dcf-bafd-e38b712232ec","fields":{"slug":"archives/5.html"},"frontmatter":{"title":"安装WSL(Windows Linux)"}}}},"staticQueryHashes":["1535296192"]}